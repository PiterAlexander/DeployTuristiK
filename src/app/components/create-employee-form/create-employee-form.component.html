<div class="modal-header">
    <div class="container-fluid">
        <h5 class="modal-title padding-extra">{{ActionTitle}} empleado</h5>
    </div>
</div>
<div class="modal-body">
    <div class="container-fluid">
        <form class="needs-validation" novalidate id="form" (submit)="saveEmployee()" [formGroup]="formGroup">
            <div class=" card-body d-flex">
                <div class="w-100 p-2">
                    <div class="row">
                        <div class="form-group col-6">
                            <label for="document" class="form-label">Documento</label>
                            <div class="input-group">
                                <span class="p-input-icon-left">
                                    <i class="pi pi-id-card"></i>
                                    <input pInputText placeholder="Ingrese el número de documento" type="text"
                                        formControlName="document" required="true" minlength="8" maxlength="15"
                                        [style]="{ width: ActionTitle === 'Editar' ? '43rem' : '20.5rem' }">
                                </span>
                                <!-- validacion de documento -->
                                <div *ngIf="formGroup.get('document').dirty && validateExistingDocument()"
                                    class="invalid-feedback">
                                    *El documento ya existe
                                </div>
                                <div *ngIf="formGroup.get('document')?.errors?.['required'] && formGroup.get('document').dirty"
                                    class="invalid-feedback">
                                    *El campo es requerido.
                                </div>
                                <div *ngIf="formGroup.get('document')?.errors?.['minlength'] && formGroup.get('document').dirty"
                                    class="invalid-feedback">
                                    *El documento debe tener mínimo 10 caracteres.
                                </div>
                            </div>
                        </div>
                        <div *ngIf="ActionTitle !== 'Editar'" class="form-group col-6">
                            <label for="email" class="form-label">Correo</label>
                            <div class="input-group">
                                <span class="p-input-icon-left">
                                    <i class="pi pi-at"></i>
                                    <input pInputText placeholder="Ingrese su correo electronico" type="text"
                                        formControlName="email" required="true" minlength="10" maxlength="30"
                                        [style]="{ width: '20.5rem' }">
                                </span>
                                <div *ngIf="formGroup.get('email')?.errors?.['required'] && formGroup.get('email').dirty"
                                    class="invalid-feedback">
                                    *El campo es requerido.
                                </div>
                                <div *ngIf="formGroup.get('email').dirty && validateExistingEmail()"
                                    class="invalid-feedback">
                                    *El correo ya existe
                                </div>
                                <div *ngIf="formGroup.get('email')?.errors?.['pattern'] && formGroup.get('email').dirty"
                                    class="invalid-feedback">
                                    *Ingrese un correo valido.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-6">
                            <label for="name" class="block">Nombre</label>
                            <span>
                                <input pInputText placeholder="Ingrese su nombre" type="text" formControlName="name"
                                    required="true" minlength="8" maxlength="15" [style]="{ width: '20.5rem' }">
                            </span>

                            <!-- validaciones del nombre -->
                            <div *ngIf="formGroup.get('name')?.errors?.['required'] && formGroup.get('name').dirty"
                                class="invalid-feedback">
                                *El campo es requerido.
                            </div>
                            <div *ngIf="formGroup.get('name')?.errors?.['minlength'] && formGroup.get('name').dirty"
                                class="invalid-feedback">
                                *El nombre debe tener mínimo 3 caracteres.
                            </div>
                            <div *ngIf="formGroup.get('name')?.errors?.['maxlength'] && formGroup.get('name').dirty"
                                class="invalid-feedback">
                                *El nombre no debe exceder los 20 caracteres.
                            </div>
                        </div>

                        <div class="form-group col-6">
                            <label for="lastName" class="form-label">Apellido</label>
                            <div class="input-group">
                                <span>
                                    <input pInputText placeholder="Ingrese su apellido" type="text"
                                        formControlName="lastName" required="true" minlength="8" maxlength="15"
                                        [style]="{ width: '20.5rem' }">
                                </span>

                                <!-- validacion de apellidos -->
                                <div *ngIf="formGroup.get('lastName')?.errors?.['required'] && formGroup.get('lastName').dirty"
                                    class="invalid-feedback">
                                    *El campo es requerido.
                                </div>
                                <div *ngIf="formGroup.get('lastName')?.errors?.['minlength'] && formGroup.get('lastName').dirty"
                                    class="invalid-feedback">
                                    *El apellido debe tener mínimo 3 caracteres.
                                </div>
                                <div *ngIf="formGroup.get('lastName')?.errors?.['maxlength'] && formGroup.get('lastName').dirty"
                                    class="invalid-feedback">
                                    *El apellido no debe exceder los 20 caracteres.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        
                        <div class="form-group col-6">
                            <label for="phoneNumber" class="form-label">Número de teléfono</label>
                            <div class="input-group">
                                <span class="p-input-icon-left">
                                    <i class="pi pi-phone"></i>
                                    <input pInputText placeholder="Ingrese el número" type="text"
                                        formControlName="phoneNumber" required="true" minlength="10" maxlength="20"
                                        [style]="{ width: ActionTitle === 'Editar' ? '43rem' : '20.5rem' }">
                                </span>
                                <!-- validaciones de número -->
                                <div *ngIf="formGroup.get('phoneNumber')?.errors?.['required'] && formGroup.get('phoneNumber').dirty"
                                    class="invalid-feedback">
                                    *El campo es requerido.
                                </div>
                                <div *ngIf="formGroup.get('phoneNumber')?.errors?.['minlength'] && formGroup.get('phoneNumber').dirty"
                                    class="invalid-feedback">
                                    *El número debe tener mínimo 10 caracteres.
                                </div>
                                <div *ngIf="formGroup.get('phoneNumber')?.errors?.['maxlength'] && formGroup.get('phoneNumber').dirty"
                                    class="invalid-feedback">
                                    *El número no debe exceder los 20 caracteres.
                                </div>
                            </div>
                        </div>
                        <div *ngIf="ActionTitle !== 'Editar'" class="form-group col-6">
                            <label for="password" class="form-label">Contraseña</label>
                            <div class="input-group">

                                <span class="p-input-icon-right">
                                    <i (click)="displayPassword()" class="pi" [ngClass]="{
                                            'pi-eye': Visible,
                                            'pi-eye-slash': !Visible
                                        }"></i>
                                    <input pInputText placeholder="Ingrese su contraseña" [type]="
                                            Visible
                                                ? 'text'
                                                : 'password'
                                        " formControlName="password" required="true" minlength="8" maxlength="30"
                                        onkeydown="return /[a-z A-Z .*- 0-9]/i.test(event.key)"
                                        [style]="{ width: '20.5rem' }" />
                                </span>
                                <div *ngIf="formGroup.get('password')?.errors?.['required'] && formGroup.get('password').dirty"
                                    class="invalid-feedback">
                                    *El campo es requerido.
                                </div>
                                <div *ngIf="formGroup.get('password')?.errors?.['minlength'] && formGroup.get('password').dirty"
                                    class="invalid-feedback">
                                    *La contraseña debe tener mínimo 5 caracteres.
                                </div>
                                <div *ngIf="formGroup.get('password')?.errors?.['maxlength'] && formGroup.get('password').dirty"
                                    class="invalid-feedback">
                                    *La contraseña no debe exceder los 30 caracteres.
                                </div>
                            </div>
                        </div>
                    </div>

                    

                </div>
            </div>
            <div class="card-footer d-flex justify-content-end surface-0">
                <div class="row">
                    <div class="col">
                        <button pbutton="" label="Clear" icon="pi pi-times" (click)="cancel()" id="cancelButton"
                            style="border-color: #6366F1;" type="button"
                            class="p-element p-button-outlined mb-2 p-button p-component text-indigo-300"
                            ng-reflect-label="Clear" ng-reflect-icon="pi pi-times"><span
                                class="p-button-icon p-button-icon-left pi pi-times" aria-hidden="true"></span><span
                                class="p-button-label">Cancelar</span></button>


                    </div>
                    <div class="col">
                        <button pbutton="" pripple="" type="button" *ngIf="!validForm()"
                            style="background-color: #6366F1; border-color: #6366F1;" type="submit" id="saveButton"
                            label="Save" icon="pi pi-check" ptooltip="Clic para guardar"
                            class="p-element p-ripple p-button p-component" ng-reflect-text="Clic para guardar"
                            ng-reflect-label="Save" ng-reflect-icon="pi pi-check" fdprocessedid="x7i42q">
                            <span class="p-button-icon p-button-icon-left pi pi-check" aria-hidden="true">
                            </span>
                            <span class="p-button-label">Guardar</span>
                            <span class="p-ink"></span></button>

                        <!-- Button to valid form -->
                        <button pbutton="" pripple="" type="button" *ngIf="validForm()"
                            style="background-color: #6366F1; border-color: #6366F1;" type="submit" id="saveButton"
                            label="Save" icon="pi pi-check" ptooltip="Clic para guardar"
                            class="p-element p-ripple p-button p-component" ng-reflect-text="Clic para guardar"
                            ng-reflect-label="Save" ng-reflect-icon="pi pi-check" fdprocessedid="x7i42q">
                            <span class="p-button-icon p-button-icon-left pi pi-check" aria-hidden="true">
                            </span>
                            <span class="p-button-label">Guardar</span>
                            <span class="p-ink"></span></button>
                    </div>
                </div>
            </div>

        </form>
    </div>
</div>